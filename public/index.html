<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Liora ‚Äî Estudo Inteligente</title>
  <meta name="description" content="Liora ‚Äî Planos de estudo e sess√µes com IA." />
  <link rel="icon" href="/favicon.ico" />

  <!-- Fonte -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/style.css?v=1" />
</head>

<body>
  <div id="app">

    <!-- HEADER -->
    <header class="header">
      <div class="brand">
        <div class="logo">Li</div>
        <div class="brand-text">
          <h1>Liora</h1>
          <p>Estudo Inteligente</p>
        </div>
      </div>

      <div class="header-actions">
        <button id="btn-theme" class="btn-icon" title="Alternar tema" aria-label="Alternar tema">üåó</button>

        <button id="btn-login" class="btn-secondary">Entrar</button>
        <button id="btn-logout" class="btn-secondary hidden">Sair</button>
      </div>
    </header>

    <!-- MAIN -->
    <main class="main">

      <!-- HOME -->
      <section id="screen-home" class="screen active">
        <div class="hero">
          <h2>Como deseja estudar hoje?</h2>

          <div class="grid-2">
            <button class="card-btn" data-nav="tema">
              <div class="card-title">Tema</div>
              <div class="card-desc">Gere plano e sess√µes por assunto</div>
            </button>

            <button class="card-btn" data-nav="pdf">
              <div class="card-title">PDF</div>
              <div class="card-desc">Gere plano com base no conte√∫do do PDF</div>
            </button>

            <button class="card-btn" data-nav="simulados">
              <div class="card-title">Simulados</div>
              <div class="card-desc">Quest√µes por banca e dificuldade</div>
              <span class="pill">IA</span>
            </button>

            <button class="card-btn" data-nav="dashboard">
              <div class="card-title">Meu desempenho</div>
              <div class="card-desc">Acompanhe sua evolu√ß√£o por banca</div>
              <span class="pill">em breve</span>
            </button>
          </div>
        </div>
      </section>

      <!-- TEMA -->
      <section id="screen-tema" class="screen">
        <div class="screen-head">
          <button class="btn-link" data-nav="home">‚Üê Voltar</button>
          <h3>Plano por Tema</h3>
        </div>

        <div class="panel">
          <label class="label">Tema</label>
          <input id="inp-tema" class="input" placeholder="Ex.: IA Generativa, Direito Constitucional..." />
        
          <label class="label">N√≠vel</label>
          <select id="sel-nivel" class="input">
            <option value="iniciante">Iniciante</option>
            <option value="intermediario">Intermedi√°rio</option>
            <option value="avancado">Avan√ßado</option>
          </select>
        
          <!-- ‚úÖ Bot√µes padronizados -->
          <div class="btn-row">
            <button id="btn-gerar-tema" class="btn-primary">Gerar plano</button>
            <button id="btn-limpar-plano" class="btn-secondary">Limpar plano</button>
          </div>
        
          <div id="tema-status" class="muted small"></div>
        
          <div id="tema-progress" class="progress-wrap hidden">
            <div class="progress-top">
              <span class="muted small">Progresso</span>
              <span id="tema-progress-pct" class="muted small">0%</span>
            </div>
            <div class="progress-bar">
              <div id="tema-progress-fill" class="progress-fill" style="width:0%"></div>
            </div>
          </div>
        </div>

        <div id="tema-result" class="two-cols hidden">
          <aside class="aside">
            <div class="aside-title">Sess√µes</div>
            <div id="lista-sessoes" class="list"></div>
          </aside>

          <section class="content">
            <div id="sessao-view" class="sessao"></div>
          </section>
        </div>
      </section>

     
      <!-- PDF -->
      <section id="screen-pdf" class="screen">
        <div class="screen-head">
          <button class="btn-link" data-nav="home">‚Üê Voltar</button>
          <h3>Plano por PDF</h3>
        </div>
      
        <div class="panel">
          <label class="label">Arquivo PDF</label>
          <input id="inp-pdf" type="file" accept="application/pdf" class="input" />
      
          <div class="grid-2">
            <div>
              <label class="label">N√≠vel</label>
              <select id="sel-nivel-pdf" class="input">
                <option value="iniciante">Iniciante</option>
                <option value="intermediario">Intermedi√°rio</option>
                <option value="avancado">Avan√ßado</option>
              </select>
            </div>
      
            <div>
              <label class="label">Finalidade</label>
              <select id="sel-finalidade-pdf" class="input">
                <option value="estudo">Estudo geral</option>
                <option value="prova">Prova / Concurso</option>
                <option value="trabalho">Trabalho / Projeto</option>
                <option value="procedimento">Procedimento / Manual</option>
                <option value="certificacao">Certifica√ß√£o</option>
                <option value="leitura">Leitura (livro)</option>
              </select>
            </div>
          </div>
      
          <!-- ‚úÖ Bot√µes padronizados (PDF) -->
          <div class="btn-row">
            <button id="btn-gerar-pdf" class="btn-primary">Gerar plano</button>
            <button id="btn-limpar-pdf" class="btn-secondary">Limpar plano</button>
          </div>
          
          <div id="pdf-status" class="muted small"></div>
          
          <div id="pdf-progress" class="progress-wrap hidden">
            <div class="progress-top">
              <span class="muted small">Progresso</span>
              <span id="pdf-progress-pct" class="muted small">0%</span>
            </div>
            <div class="progress-bar">
              <div id="pdf-progress-fill" class="progress-fill" style="width:0%"></div>
            </div>
          </div>
 
     
          <div id="pdf-status" class="muted small" style="margin-top:10px;"></div>
          <div id="pdf-progress" class="progress-wrap hidden">
            <div class="progress-top">
              <span class="muted small">Progresso</span>
              <span id="pdf-progress-pct" class="muted small">0%</span>
            </div>
            <div class="progress-bar">
              <div id="pdf-progress-fill" class="progress-fill" style="width:0%"></div>
            </div>
          </div>
          
        </div>
      
        <div id="pdf-result" class="two-cols hidden">
          <aside class="aside">
            <div class="aside-title">Sess√µes</div>
            <div id="pdf-lista-sessoes" class="list"></div>
          </aside>
      
          <section class="content">
      
            <!-- ‚úÖ Viewer embutido: abre quando clicar nas fontes -->
            <div id="pdf-viewer-wrap" class="pdf-viewer-wrap hidden">
              <div class="pdf-viewer-head">
                <div class="pdf-viewer-title">üìÑ PDF</div>
                <div class="pdf-viewer-actions">
                  <button id="btn-pdf-close" class="btn-secondary">Fechar PDF</button>
                </div>
              </div>
      
              <iframe id="pdf-iframe" class="pdf-iframe" src="" loading="lazy"></iframe>
            </div>
      
            <!-- Sess√£o renderizada -->
            <div id="pdf-sessao-view" class="sessao"></div>
      
          </section>
        </div>
      </section>

     <!-- SIMULADOS -->
      <section id="screen-simulados" class="screen">
        <div class="screen-head">
          <button class="btn-link" data-nav="home">‚Üê Voltar</button>
          <h3>Simulados</h3>
          <span class="badge" id="sim-mode">Pronto</span>
        </div>
      
        <div class="panel">
          <!-- ‚úÖ O simulados.js renderiza tudo aqui -->
          <div id="sim-body"></div>
        </div>
      
        <!-- MODAL CONFIG -->
        <div class="modal" id="sim-config" aria-hidden="true">
          <div class="modal-backdrop" data-action="closeConfig"></div>
      
          <div class="modal-card">
            <div class="modal-head">
              <div class="modal-title">Configurar simulado ‚öôÔ∏è</div>
              <button class="btn-ghost" data-action="closeConfig">‚úï</button>
            </div>
      
            <div class="modal-body">
              <div class="grid-2">
                <label class="field">
                  <span class="label">Banca</span>
                  <select id="sim-banca" class="input">
                    <option value="FGV">FGV</option>
                    <option value="CESPE/CEBRASPE">CESPE/CEBRASPE</option>
                    <option value="FCC">FCC</option>
                    <option value="VUNESP">VUNESP</option>
                    <option value="IBFC">IBFC</option>
                    <option value="AOCP">AOCP</option>
                  </select>
                </label>
      
                <label class="field">
                  <span class="label">Quantidade</span>
                  <input id="sim-qtd" class="input" type="number" min="3" max="30" value="5" />
                </label>
      
                <label class="field">
                  <span class="label">Dificuldade</span>
                  <select id="sim-dificuldade" class="input">
                    <option value="misturado">Misturado</option>
                    <option value="facil">F√°cil</option>
                    <option value="medio">M√©dio</option>
                    <option value="dificil">Dif√≠cil</option>
                  </select>
                </label>
      
                <label class="field">
                  <span class="label">Tempo (min)</span>
                  <input id="sim-tempo" class="input" type="number" min="5" max="180" value="20" />
                </label>
              </div>
      
              <label class="field">
                <span class="label">Tema (opcional)</span>
                <input id="sim-tema" class="input" type="text" placeholder="Ex.: LGPD, SQL, Redes..." />
              </label>
      
              <label class="field">
                <span class="label">Timer</span>
                <select id="sim-timer" class="input">
                  <option value="on">Ligado</option>
                  <option value="off">Desligado</option>
                </select>
              </label>
            </div>
      
            <div class="modal-foot">
              <button class="btn-ghost" data-action="closeConfig">Cancelar</button>
              <button class="btn-primary" data-action="saveConfig">Salvar</button>
            </div>
          </div>
        </div>
      </section>


      <!-- DASHBOARD -->
      <section id="screen-dashboard" class="screen">
        <div class="screen-head">
          <button class="btn-link" data-nav="home">‚Üê Voltar</button>
          <h3>Meu desempenho</h3>
        </div>

        <div class="panel">
          <div class="muted">
            Em breve ‚úÖ<br>
            Aqui entra evolu√ß√£o por banca + recomenda√ß√µes.
          </div>
        </div>
      </section>

    </main>

    <!-- LOADING -->
    <div id="ui-loading" class="overlay hidden" aria-hidden="true">
      <div class="overlay-card">
        <div class="spinner"></div>
        <div id="ui-loading-text" class="overlay-text">Processando‚Ä¶</div>
      </div>
    </div>

    <!-- ERROR -->
    <div id="ui-error" class="overlay hidden" aria-hidden="true">
      <div class="overlay-card">
        <div class="overlay-title">Algo deu ruim üòÖ</div>
        <div id="ui-error-text" class="overlay-text">Erro</div>
        <div class="overlay-actions">
          <button id="ui-error-close" class="btn-primary">Fechar</button>
        </div>
      </div>
    </div>

  </div>

  <!-- APP (1 √∫nico script) -->
  <script type="module" src="/scripts/app.js?v=1"></script>
</body>
</html>
